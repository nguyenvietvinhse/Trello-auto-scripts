// ==UserScript==
// @name        Trello
// @namespace   Trello
// @description User
// @include     https://trello.com/*
// @version     1
// @grant       none
// ==/UserScript==
$(window).load(function(){function n(e){var t=e+"";if(e.length==1)e="0"+e;return e}function r(){setTimeout(function(){$(".list-card-composer-textarea").text("["+str+"] ")},100)}function i(){$(".card-short-id").removeClass("hide")}function s(){var e=0;var t=setInterval(function(){if($(".list-card-composer-textarea")){r();$(".open-card-composer").on("click",r);if($(".open-card-composer").length>0){var n=$._data($(".open-card-composer").get(0),"events").click;if(n.length>1){$(".open-card-composer").unbind("click");$(".open-card-composer").on("click",r)}}clearInterval(t)}else if(e>100){console.log("It's been too long, I'm off. Sorry, guys!");clearInterval(t)}e++},200)}var e=new Date;var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];str=t[e.getMonth()]+n(e.getDate());i();s();console.log("Trello has been imbued with super power!");$(document).ajaxComplete(function(e,t,n){setTimeout(function(){if(t&&t.responseJSON&&t.responseJSON.idShort){$("span.card-short-id:contains('# ')").text("#"+t.responseJSON.idShort+" ")}i();s();if(n&&n.url&&n.url=="/1/cards"){r()}},100)})})